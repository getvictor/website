<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Understand macOS launchd, agents, daemons, and property list files. Discover how to locate the plist file for a running process."><title>What are launchd agents and daemons on macOS?</title>
<link rel=canonical href=https://victoronsoftware.com/posts/macos-launchd-agents-and-daemons/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="What are launchd agents and daemons on macOS?"><meta property='og:description' content="Understand macOS launchd, agents, daemons, and property list files. Discover how to locate the plist file for a running process."><meta property='og:url' content='https://victoronsoftware.com/posts/macos-launchd-agents-and-daemons/'><meta property='og:site_name' content='Victor on Software'><meta property='og:type' content='article'><meta property='article:section' content='Posts'><meta property='article:tag' content='macOS'><meta property='article:tag' content='Agents'><meta property='article:published_time' content='2024-12-11T00:00:00+00:00'><meta property='article:modified_time' content='2024-12-11T00:00:00+00:00'><meta property='og:image' content='https://victoronsoftware.com/posts/macos-launchd-agents-and-daemons/macos-agents-and-daemons.png'><meta property='article:author' content='Victor Lyuboslavsky'><meta name=twitter:title content="What are launchd agents and daemons on macOS?"><meta name=twitter:description content="Understand macOS launchd, agents, daemons, and property list files. Discover how to locate the plist file for a running process."><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://victoronsoftware.com/posts/macos-launchd-agents-and-daemons/macos-agents-and-daemons.png'><script async src="https://www.googletagmanager.com/gtag/js?id=G-1XV381YSQ8"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-1XV381YSQ8")}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu7557696702933755770.png width=300 height=297 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Victor on Software</a></h1><h2 class=site-description>Software engineering, security, and related topics</h2></div></header><ol class=menu-social><li><a href=https://fleetdm.com target=_blank title=Fleet rel=me><svg width="58.219mm" height="58.202mm" viewBox="0 0 58.219 58.202"><g stroke-width=".26458"><path d="m7.5963 14.823c3.954.0 7.1594-3.2053 7.1594-7.1594.0-3.954-3.2054-7.1594-7.1594-7.1594-3.954.0-7.1594 3.2053-7.1594 7.1594.0 3.954 3.2053 7.1594 7.1594 7.1594z" fill="#63c740"/><path d="m29.075 14.823c3.9539.0 7.1594-3.2053 7.1594-7.1594.0-3.954-3.2054-7.1594-7.1594-7.1594-3.9541.0-7.1595 3.2053-7.1595 7.1594.0 3.954 3.2054 7.1594 7.1595 7.1594z" fill="#5cabdf"/><path d="m50.552 14.823c3.9542.0 7.1594-3.2053 7.1594-7.1594.0-3.954-3.2052-7.1594-7.1594-7.1594-3.9539.0-7.1594 3.2053-7.1594 7.1594.0 3.954 3.2054 7.1594 7.1594 7.1594z" fill="#d66c7b"/><path d="m7.5963 36.301c3.954.0 7.1594-3.2054 7.1594-7.1594.0-3.9541-3.2054-7.1595-7.1594-7.1595-3.954.0-7.1594 3.2054-7.1594 7.1595.0 3.9539 3.2053 7.1594 7.1594 7.1594z" fill="#c98def"/><path d="m29.075 36.301c3.9539.0 7.1594-3.2054 7.1594-7.1594.0-3.9541-3.2054-7.1595-7.1594-7.1595-3.9541.0-7.1595 3.2054-7.1595 7.1595.0 3.9539 3.2054 7.1594 7.1595 7.1594z" fill="#faa669"/><path d="m7.5963 57.779c3.954.0 7.1594-3.2052 7.1594-7.1594.0-3.9539-3.2054-7.1594-7.1594-7.1594-3.954.0-7.1594 3.2054-7.1594 7.1594.0 3.9542 3.2053 7.1594 7.1594 7.1594z" fill="#3aefc4"/></g></svg></a></li><li><a href=https://github.com/getvictor target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.linkedin.com/in/lyuboslavsky/ target=_blank title=LinkedIn rel=me><svg width="16" height="16" fill="currentcolor" class="bi bi-linkedin" viewBox="0 0 16 16"><path d="M0 1.146C0 .513.526.0 1.175.0h13.65C15.474.0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487.0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401m-1.2-8.212c.837.0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822.0-1.359.54-1.359 1.248.0.694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869.0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274.0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54.0 01.016-.025V6.169h-2.4c.03.678.0 7.225.0 7.225h2.4"/></svg></a></li><li><a href=http://www.youtube.com/@VictorOnSoftware target=_blank title=YouTube rel=me><svg height="800" width="800" id="Layer_1" viewBox="0 0 461.001 461.001"><g><path style="fill:#f61c0d" d="M365.257 67.393H95.744C42.866 67.393.0 110.259.0 163.137v134.728c0 52.878 42.866 95.744 95.744 95.744h269.513c52.878.0 95.744-42.866 95.744-95.744V163.137c0-52.878-42.866-95.744-95.744-95.744zM300.506 237.056l-126.06 60.123c-3.359 1.602-7.239-.847-7.239-4.568V168.607c0-3.774 3.982-6.22 7.348-4.514l126.06 63.881C304.363 229.873 304.298 235.248 300.506 237.056z"/></g></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/page/tools/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Software tools</span></a></li><li><a href=/page/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/page/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/posts/macos-launchd-agents-and-daemons/><img src=/posts/macos-launchd-agents-and-daemons/macos-agents-and-daemons_hu8989291800063161335.png srcset="/posts/macos-launchd-agents-and-daemons/macos-agents-and-daemons_hu8989291800063161335.png 800w, /posts/macos-launchd-agents-and-daemons/macos-agents-and-daemons_hu13790522792764254352.png 1600w" width=800 height=419 loading=lazy alt="Featured image of post What are launchd agents and daemons on macOS?"></a></div><div class=article-details><header class=article-category><a href=/categories/devops--infrastructure/>DevOps & Infrastructure</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/posts/macos-launchd-agents-and-daemons/>What are launchd agents and daemons on macOS?</a></h2><h3 class=article-subtitle>Understand macOS launchd, agents, daemons, and property list files. Discover how to locate the plist file for a running process.</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Dec 11, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>4 minute read</time></div></footer></div></header><section class=article-content><ul><li><a class=link href=#how-to-find-the-plist-file-for-a-running-process>How to find the plist file for a running process</a></li></ul><h2 id=what-is-launchd><a href=#what-is-launchd class=header-anchor></a>What is launchd?</h2><p><code>launchd</code> is a macOS system service manager that starts, stops, and manages daemons, agents, and other processes. It is
the first process the kernel starts and is responsible for starting all other processes on the system.</p><p>If you go to <code>Activity Monitor</code> on your Mac and <code>View</code> > <code>All Processes, Hierarchically</code>, you will see that all
processes are children of <code>launchd</code>.</p><figure><img src=/posts/macos-launchd-agents-and-daemons/activity-monitor.png alt="The top process name is kernel_task, its child is launchd, and everything else is a child of launchd."></figure><h2 id=what-are-launchd-agents-and-daemons><a href=#what-are-launchd-agents-and-daemons class=header-anchor></a>What are launchd agents and daemons?</h2><p><code>launchd</code> can start and manage agents and daemons.</p><h3 id=daemons><a href=#daemons class=header-anchor></a>Daemons</h3><p>Daemons are background processes that run without a user interface. They typically start at boot time and run
continuously in the background. One example of a daemon is Apple&rsquo;s <code>timed</code> time synchronization daemon, which maintains
system clock accuracy by synchronizing the clock with reference clocks over the network. Another example is a device
management daemon, such as <a class=link href=https://fleetdm.com/docs/get-started/anatomy#orbit target=_blank rel=noopener>Fleet&rsquo;s <code>orbit</code></a>, which manages the
device&rsquo;s configuration and security settings.</p><h3 id=agents><a href=#agents class=header-anchor></a>Agents</h3><p>Agents are similar to daemons but run in the context of a user session. They are started when a user logs in and can
interact with the user interface. Agents are helpful for tasks that need to run in the background but also need to
communicate with the user. For example, a security agent can check the system&rsquo;s state and notify the user if they fail a
corporate security policy.</p><p>Agents may or may not have a user interface. Many 3rd party agents run in the background and provide a menu bar icon to
configure the agent&rsquo;s behavior.</p><h2 id=how-are-agents-and-daemons-configured-with-plist><a href=#how-are-agents-and-daemons-configured-with-plist class=header-anchor></a>How are agents and daemons configured with plist?</h2><p><code>launchd</code> uses property list (<code>.plist</code>) files to define the configuration of agents and daemons. These files specify the
program to run, the arguments to pass, the environment variables to set, and other settings.</p><p>Here is an example of a <code>.plist</code> file for a launchd daemon:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!DOCTYPE plist PUBLIC &#34;-//Apple//DTD PLIST 1.0//EN&#34; &#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd&#34;&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;plist</span> <span style=color:#a6e22e>version=</span><span style=color:#e6db74>&#34;1.0&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dict&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;key&gt;</span>EnvironmentVariables<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;dict&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;key&gt;</span>ORBIT_ENROLL_SECRET_PATH<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;string&gt;</span>/opt/orbit/secret.txt<span style=color:#f92672>&lt;/string&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;key&gt;</span>ORBIT_FLEET_URL<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;string&gt;</span>https://dogfood.fleetdm.com<span style=color:#f92672>&lt;/string&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;key&gt;</span>ORBIT_ENABLE_SCRIPTS<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;string&gt;</span>true<span style=color:#f92672>&lt;/string&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;key&gt;</span>ORBIT_ORBIT_CHANNEL<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;string&gt;</span>stable<span style=color:#f92672>&lt;/string&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;key&gt;</span>ORBIT_OSQUERYD_CHANNEL<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;string&gt;</span>stable<span style=color:#f92672>&lt;/string&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;key&gt;</span>ORBIT_UPDATE_URL<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;string&gt;</span>https://updates.fleetdm.com<span style=color:#f92672>&lt;/string&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;key&gt;</span>ORBIT_FLEET_DESKTOP<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;string&gt;</span>true<span style=color:#f92672>&lt;/string&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;key&gt;</span>ORBIT_DESKTOP_CHANNEL<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;string&gt;</span>stable<span style=color:#f92672>&lt;/string&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;key&gt;</span>ORBIT_UPDATE_INTERVAL<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;string&gt;</span>15m0s<span style=color:#f92672>&lt;/string&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/dict&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;key&gt;</span>KeepAlive<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;true/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;key&gt;</span>Label<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;string&gt;</span>com.fleetdm.orbit<span style=color:#f92672>&lt;/string&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;key&gt;</span>ProgramArguments<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;array&gt;</span>
</span></span><span style=display:flex><span>       <span style=color:#f92672>&lt;string&gt;</span>/opt/orbit/bin/orbit/orbit<span style=color:#f92672>&lt;/string&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/array&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;key&gt;</span>RunAtLoad<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;true/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;key&gt;</span>StandardErrorPath<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;string&gt;</span>/var/log/orbit/orbit.stderr.log<span style=color:#f92672>&lt;/string&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;key&gt;</span>StandardOutPath<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;string&gt;</span>/var/log/orbit/orbit.stdout.log<span style=color:#f92672>&lt;/string&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;key&gt;</span>ThrottleInterval<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;integer&gt;</span>10<span style=color:#f92672>&lt;/integer&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dict&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/plist&gt;</span>
</span></span></code></pre></div><p>The typical locations for agent and daemon <code>.plist</code> files are:</p><div class=table-wrapper><table><thead><tr><th>Type</th><th>Location</th></tr></thead><tbody><tr><td>User Agents</td><td><code>~/Library/LaunchAgents</code></td></tr><tr><td>Global Agents</td><td><code>/Library/LaunchAgents</code></td></tr><tr><td>System Agents</td><td><code>/System/Library/LaunchAgents</code></td></tr><tr><td>Global Daemons</td><td><code>/Library/LaunchDaemons</code></td></tr><tr><td>System Daemons</td><td><code>/System/Library/LaunchDaemons</code></td></tr></tbody></table></div><p><em>Note:</em> In rare cases, the <code>.plist</code> files may be located in other directories or missing entirely.</p><h3 id=how-to-view-the-contents-of-a-plist-file><a href=#how-to-view-the-contents-of-a-plist-file class=header-anchor></a>How to view the contents of a <code>.plist</code> file</h3><p><code>.plist</code> files come in several formats, including binary, XML, and JSON.</p><p>You can view the contents of a <code>.plist</code> file using the <code>plutil</code> (property list utility) command. For example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>plutil -p /System/Library/LaunchDaemons/com.apple.analyticsd.plist
</span></span></code></pre></div><p><code>plutil</code> can also convert between different <code>.plist</code> formats. For example, to convert a binary <code>.plist</code> file to XML,
run:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cp /System/Library/LaunchDaemons/com.apple.analyticsd.plist my.plist
</span></span><span style=display:flex><span>plutil -convert xml1 my.plist
</span></span></code></pre></div><h3 id=can-i-use-a-plist-file-for-cron-like-scheduling><a href=#can-i-use-a-plist-file-for-cron-like-scheduling class=header-anchor></a>Can I use a <code>.plist</code> file for cron-like scheduling?</h3><p>Yes, you can use <code>launchd</code> to schedule tasks in a <code>.plist</code> file. <code>launchd</code> is the recommended alternative to <code>cron</code> on
macOS. The <code>StartCalendarInterval</code> key specifies when the task should run. For example, to run a task every day at 5 AM,
you can add the following to your <code>.plist</code> file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;key&gt;</span>StartCalendarInterval<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dict&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;key&gt;</span>Hour<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;integer&gt;</span>5<span style=color:#f92672>&lt;/integer&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;key&gt;</span>Minute<span style=color:#f92672>&lt;/key&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;integer&gt;</span>0<span style=color:#f92672>&lt;/integer&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dict&gt;</span>
</span></span></code></pre></div><h2 id=how-to-find-the-plist-file-for-a-running-process><a href=#how-to-find-the-plist-file-for-a-running-process class=header-anchor></a>How to find the plist file for a running process</h2><p>Suppose you identified a process running on your Mac from <code>Activity Monitor</code> and want to find the <code>.plist</code> file that
started it. The process should be a child of <code>launchd</code>.</p><p>To find the identifier of a running process, you can use the <code>launchctl</code> command. The <code>launchctl list</code> command lists all
agents and daemons started by the user, while the <code>sudo launchctl list</code> lists all agents and daemons started by the
system.</p><p>For example, to find the identifier of the process with PID <code>62303</code>, run:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#f92672>(</span> /usr/bin/sudo launchctl list; launchctl list <span style=color:#f92672>)</span> | grep <span style=color:#ae81ff>62303</span>
</span></span></code></pre></div><p>The output will show the identifier, such as:</p><pre tabindex=0><code>62303   0  com.fleetdm.orbit
</code></pre><p>You can now look in the standard locations for the <code>com.fleetdm.orbit.plist</code> file. Alternatively, you can use the
<code>launchctl dumpstate</code> command to dump the state of all launchd jobs, including the <code>.plist</code> files that started them. For
example, in a macOS system with Fleet&rsquo;s orbit running, you can run:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>launchctl dumpstate | grep -B <span style=color:#ae81ff>1</span> -A <span style=color:#ae81ff>4</span> -E <span style=color:#e6db74>&#34;active count = [1-9]&#34;</span> | grep com.fleetdm.orbit
</span></span></code></pre></div><p>And the output will show the path to the <code>.plist</code> file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>system/com.fleetdm.orbit <span style=color:#f92672>=</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    path <span style=color:#f92672>=</span> /Library/LaunchDaemons/com.fleetdm.orbit.plist
</span></span></code></pre></div><p>You can now view the contents of the <code>.plist</code> file to understand how the process was started.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>plutil -p /Library/LaunchDaemons/com.fleetdm.orbit.plist
</span></span></code></pre></div><h2 id=further-reading><a href=#further-reading class=header-anchor></a>Further reading</h2><ul><li>Recently, we showed <a class=link href=../script-only-macos-install-package/>two ways to turn a script into a macOS install package</a>.</li><li>Previously, we explained <a class=link href=../mtls-with-apple-keychain/>how to configure mTLS using the macOS keychain</a>.</li></ul><h2 id=watch><a href=#watch class=header-anchor></a>Watch</h2><div class=video-wrapper><iframe loading=lazy src=https://www.youtube.com/embed/idFJmajURpE allowfullscreen title="YouTube Video"></iframe></div><p><em>Note:</em> If you want to comment on this article, please do so on the YouTube video.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/macos/>macOS</a>
<a href=/tags/agents/>Agents</a></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/posts/script-only-macos-install-package/><div class=article-image><img src=/posts/script-only-macos-install-package/script-package-headline.27c443f69573deaa6ac059bc2cce15dc_hu13894867965964263883.png width=250 height=150 loading=lazy alt="Featured image of post 2 ways to turn a script into a macOS install package" data-hash="md5-J8RD9pVz3qpqwFm8LM4V3A=="></div><div class=article-details><h2 class=article-title>2 ways to turn a script into a macOS install package</h2></div></a></article><article class=has-image><a href=/posts/mtls-go-client-using-apple-keychain/><div class=article-image><img src=/posts/mtls-go-client-using-apple-keychain/mtls-go-apple-keychain.4be855897ea7b8897e027a30c449d256_hu9663222902861578666.png width=250 height=150 loading=lazy alt="Featured image of post Mutual TLS (mTLS) Go client using macOS keychain" data-hash="md5-S+hViX6nuIl+AnowxEnSVg=="></div><div class=article-details><h2 class=article-title>Mutual TLS (mTLS) Go client using macOS keychain</h2></div></a></article><article class=has-image><a href=/posts/mtls-with-apple-keychain/><div class=article-image><img src=/posts/mtls-with-apple-keychain/mtls-safari.41faaa695a87796a08c7ccbf7e315636_hu12186587663214958407.png width=250 height=150 loading=lazy alt="Featured image of post Mutual TLS (mTLS) with macOS keychain" data-hash="md5-QfqqaVqHeWoIx8y/fjFWNg=="></div><div class=article-details><h2 class=article-title>Mutual TLS (mTLS) with macOS keychain</h2></div></a></article><article><a href=/posts/inspecting-keychain-files-on-macos/><div class=article-details><h2 class=article-title>Inspecting keychain files on macOS</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2024 Victor on Software</section><section class=powerby></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>