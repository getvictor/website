<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="How to create reusable workflows and reusable steps in GitHub Actions"><title>How to reuse workflows and steps in GitHub Actions (2024)</title><link rel=canonical href=https://victoronsoftware.com/posts/github-reusable-workflows-and-steps/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="How to reuse workflows and steps in GitHub Actions (2024)"><meta property='og:description' content="How to create reusable workflows and reusable steps in GitHub Actions"><meta property='og:url' content='https://victoronsoftware.com/posts/github-reusable-workflows-and-steps/'><meta property='og:site_name' content='Victor on Software'><meta property='og:type' content='article'><meta property='article:section' content='Posts'><meta property='article:tag' content='GitHub'><meta property='article:tag' content='GitHub Actions'><meta property='article:tag' content='Code Reuse'><meta property='article:published_time' content='2024-05-01T00:00:00+00:00'><meta property='article:modified_time' content='2024-05-01T00:00:00+00:00'><meta property='og:image' content='https://victoronsoftware.com/posts/github-reusable-workflows-and-steps/GitHub%20Actions%20thumbnail.png'><meta name=twitter:title content="How to reuse workflows and steps in GitHub Actions (2024)"><meta name=twitter:description content="How to create reusable workflows and reusable steps in GitHub Actions"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://victoronsoftware.com/posts/github-reusable-workflows-and-steps/GitHub%20Actions%20thumbnail.png'><script async src="https://www.googletagmanager.com/gtag/js?id=G-1XV381YSQ8"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-1XV381YSQ8")}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_c8fdb37897842f49.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Victor on Software</a></h1><h2 class=site-description>Software engineering, security, and related topics</h2></div></header><ol class=menu-social><li><a href=https://fleetdm.com target=_blank title=Fleet rel=me><svg width="58.219mm" height="58.202mm" viewBox="0 0 58.219 58.202"><g stroke-width=".26458"><path d="m7.5963 14.823c3.954.0 7.1594-3.2053 7.1594-7.1594.0-3.954-3.2054-7.1594-7.1594-7.1594-3.954.0-7.1594 3.2053-7.1594 7.1594.0 3.954 3.2053 7.1594 7.1594 7.1594z" fill="#63c740"/><path d="m29.075 14.823c3.9539.0 7.1594-3.2053 7.1594-7.1594.0-3.954-3.2054-7.1594-7.1594-7.1594-3.9541.0-7.1595 3.2053-7.1595 7.1594.0 3.954 3.2054 7.1594 7.1595 7.1594z" fill="#5cabdf"/><path d="m50.552 14.823c3.9542.0 7.1594-3.2053 7.1594-7.1594.0-3.954-3.2052-7.1594-7.1594-7.1594-3.9539.0-7.1594 3.2053-7.1594 7.1594.0 3.954 3.2054 7.1594 7.1594 7.1594z" fill="#d66c7b"/><path d="m7.5963 36.301c3.954.0 7.1594-3.2054 7.1594-7.1594.0-3.9541-3.2054-7.1595-7.1594-7.1595-3.954.0-7.1594 3.2054-7.1594 7.1595.0 3.9539 3.2053 7.1594 7.1594 7.1594z" fill="#c98def"/><path d="m29.075 36.301c3.9539.0 7.1594-3.2054 7.1594-7.1594.0-3.9541-3.2054-7.1595-7.1594-7.1595-3.9541.0-7.1595 3.2054-7.1595 7.1595.0 3.9539 3.2054 7.1594 7.1595 7.1594z" fill="#faa669"/><path d="m7.5963 57.779c3.954.0 7.1594-3.2052 7.1594-7.1594.0-3.9539-3.2054-7.1594-7.1594-7.1594-3.954.0-7.1594 3.2054-7.1594 7.1594.0 3.9542 3.2053 7.1594 7.1594 7.1594z" fill="#3aefc4"/></g></svg></a></li><li><a href=https://github.com/getvictor target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.linkedin.com/in/lyuboslavsky/ target=_blank title=LinkedIn rel=me><svg width="16" height="16" fill="currentColor" class="bi bi-linkedin" viewBox="0 0 16 16"><path d="M0 1.146C0 .513.526.0 1.175.0h13.65C15.474.0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487.0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401m-1.2-8.212c.837.0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822.0-1.359.54-1.359 1.248.0.694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869.0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274.0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54.0 01.016-.025V6.169h-2.4c.03.678.0 7.225.0 7.225h2.4"/></svg></a></li><li><a href=http://www.youtube.com/@VictorOnSoftware target=_blank title=YouTube rel=me><svg height="800" width="800" id="Layer_1" viewBox="0 0 461.001 461.001"><g><path style="fill:#f61c0d" d="M365.257 67.393H95.744C42.866 67.393.0 110.259.0 163.137v134.728c0 52.878 42.866 95.744 95.744 95.744h269.513c52.878.0 95.744-42.866 95.744-95.744V163.137c0-52.878-42.866-95.744-95.744-95.744zM300.506 237.056l-126.06 60.123c-3.359 1.602-7.239-.847-7.239-4.568V168.607c0-3.774 3.982-6.22 7.348-4.514l126.06 63.881C304.363 229.873 304.298 235.248 300.506 237.056z"/></g></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/page/speaking/><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 2m0 3a3 3 0 013-3h0a3 3 0 013 3v5a3 3 0 01-3 3h0a3 3 0 01-3-3z"/><path d="M5 10a7 7 0 0014 0"/><path d="M8 21h8"/><path d="M12 17v4"/></svg>
<span>Speaking</span></a></li><li><a href=/page/tools/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Software tools</span></a></li><li><a href=/page/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/page/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/posts/github-reusable-workflows-and-steps/><img src=/posts/github-reusable-workflows-and-steps/GitHub%20Actions%20thumbnail_hu_d3b6ca6b7859632d.png srcset="/posts/github-reusable-workflows-and-steps/GitHub%20Actions%20thumbnail_hu_d3b6ca6b7859632d.png 800w, /posts/github-reusable-workflows-and-steps/GitHub%20Actions%20thumbnail_hu_70b92bbfda561585.png 1600w" width=800 height=419 loading=lazy alt="Featured image of post How to reuse workflows and steps in GitHub Actions (2024)"></a></div><div class=article-details><header class=article-category><a href=/categories/devops--infrastructure/>DevOps & Infrastructure</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/posts/github-reusable-workflows-and-steps/>How to reuse workflows and steps in GitHub Actions (2024)</a></h2><h3 class=article-subtitle>How to create reusable workflows and reusable steps in GitHub Actions</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>May 01, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>5 minute read</time></div></footer></div></header><section class=article-content><ul><li><a class=link href=#reusable-workflows>GitHub reusable workflows</a></li><li><a class=link href=#reusable-steps-composite-action>GitHub reusable steps (composite action)</a></li></ul><h2 id=introduction><a href=#introduction class=header-anchor></a>Introduction</h2><p><a class=link href=https://github.com/features/actions target=_blank rel=noopener>GitHub Actions</a> is a way to automate your software development workflows. The
approach is similar to CI/CD tools like Jenkins, CircleCI, and TravisCI. However, GitHub Actions are built into GitHub.</p><figure><img src=/posts/github-reusable-workflows-and-steps/GitHub%20Actions%20workflow.svg alt="High level diagram of GitHub Actions"><figcaption><h4>High level diagram of GitHub Actions</h4></figcaption></figure><p>The entry point for GitHub Actions is the <code>.github/workflows</code> directory in your repository. This directory contains one
or more YAML files that define your workflows. A workflow is an automated process made up of one or more jobs. Each job
runs on a separate runner. A runner is a server that runs the job. A job contains one or more steps. Each step runs a
separate command.</p><h2 id=why-reuse><a href=#why-reuse class=header-anchor></a>Why reuse?</h2><p><a class=link href=https://en.wikipedia.org/wiki/Code_reuse target=_blank rel=noopener>Code reuse</a> is a fundamental principle of software development. Reusing
GitHub Actions code allows you to:</p><ul><li>Improve maintainability by keeping common code in one place and reducing the amount of code</li><li>Increase consistency since multiple workflows can use the same code</li><li>Promote best practices</li><li>Increase productivity</li><li>Reduce errors</li></ul><p>Examples of reusable GitHub Actions code include:</p><ul><li>Code signing</li><li>Uploading artifacts to cloud services</li><li>Security checks</li><li>Notifications and reports</li><li>Data processing</li><li>and many others</li></ul><h2 id=reusable-workflows><a href=#reusable-workflows class=header-anchor></a>Reusable workflows</h2><p>A reusable workflow replaces a job in the main workflow.</p><figure><img src=/posts/github-reusable-workflows-and-steps/GitHub%20Actions%20reusable%20workflow.svg alt="GitHub Actions reusable workflow"><figcaption><h4>GitHub Actions reusable workflow</h4></figcaption></figure><p>A reusable workflow may be shared across repositories and run on a different platform than the main workflow.</p><p>For file sharing, &lsquo;build artifacts&rsquo; must be used to share files with the main workflow. The reusable workflow does not
inherit environment variables. However, it accepts inputs and secrets from the calling workflow and may use outputs to
pass data back to the main workflow.</p><p>Here is an example of a reusable workflow. It uses the same schema as a regular workflow.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>Reusable workflow</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>on</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>workflow_call</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>inputs</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>reusable_input</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>description</span>: <span style=color:#e6db74>&#39;Input to the reusable workflow&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>required</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>type</span>: <span style=color:#ae81ff>string</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>filename</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>required</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>type</span>: <span style=color:#ae81ff>string</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>secrets</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>HELLO_WORLD_SECRET</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>required</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>outputs</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Map the workflow output(s) to job output(s)</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>reusable_output</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>description</span>: <span style=color:#e6db74>&#39;Output from the reusable workflow&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>value</span>: <span style=color:#ae81ff>${{ jobs.reusable-workflow-job.outputs.job_output }}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>defaults</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>run</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>shell</span>: <span style=color:#ae81ff>bash</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>reusable-workflow-job</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-20.04</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Map the job output(s) to step output(s)</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>outputs</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>job_output</span>: <span style=color:#ae81ff>${{ steps.process-step.outputs.step_output }}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Process reusable input</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>id</span>: <span style=color:#ae81ff>process-step</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>env</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>HELLO_WORLD_SECRET</span>: <span style=color:#ae81ff>${{ secrets.HELLO_WORLD_SECRET }}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          echo &#34;reusable_input=${{ inputs.reusable_input }}&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          echo &#34;HELLO_WORLD_SECRET=${HELLO_WORLD_SECRET}&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          echo &#34;step_output=${{ inputs.reusable_input }}_processed&#34; &gt;&gt; $GITHUB_OUTPUT</span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/download-artifact@v4</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>name</span>: <span style=color:#ae81ff>input_file</span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Process file</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          echo &#34;Processing file: ${{ inputs.filename }}&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          echo &#34;file processed&#34; &gt;&gt; ${{ inputs.filename }}</span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/upload-artifact@v4</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>name</span>: <span style=color:#ae81ff>output_file</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>path</span>: <span style=color:#ae81ff>${{ inputs.filename }}</span>
</span></span></code></pre></div><p>The reusable workflow is triggered <code>on: workflow_call</code>. It accepts an input called <code>reusable_input</code> and generates an
output called <code>reusable_output</code>. It also downloads an artifact called <code>input_file</code>, processes a file, and uploads an
artifact called <code>output_file</code>.</p><p>The main workflow calls the reusable workflow using the <code>uses</code> keyword.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>  <span style=color:#f92672>job-2</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>needs</span>: <span style=color:#ae81ff>job-1</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># We do not need to check out the repository to use the reusable workflow</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>./.github/workflows/reusable-workflow.yml</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>reusable_input</span>: <span style=color:#e6db74>&#34;job-2-input&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>filename</span>: <span style=color:#e6db74>&#34;input.txt&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>secrets</span>:
</span></span><span style=display:flex><span>      <span style=color:#75715e># Can also implicitly pass the secrets with: secrets: inherit</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>HELLO_WORLD_SECRET</span>: <span style=color:#ae81ff>TERCES_DLROW_OLLEH</span>
</span></span></code></pre></div><p>A successful run of the main workflow looks like this on GitHub:</p><figure><img src=/posts/github-reusable-workflows-and-steps/GitHub%20Actions%20reusable%20workflow%20success.png alt="GitHub Actions reusable workflow success"><figcaption><h4>GitHub Actions reusable workflow success</h4></figcaption></figure><h2 id=reusable-steps-composite-action><a href=#reusable-steps-composite-action class=header-anchor></a>Reusable steps (composite action)</h2><p>Reusable steps replace a regular step in a job. We will use a <code>composite action</code> for reusable steps in our example.</p><figure><img src=/posts/github-reusable-workflows-and-steps/GitHub%20Actions%20reusable%20steps.svg alt="GitHub Actions reusable steps (composite action)"><figcaption><h4>GitHub Actions reusable steps (composite action)</h4></figcaption></figure><p>Like a reusable workflow, a composite action may be shared across repositories, it accepts inputs, and it may use
outputs to pass data back to the main workflow.</p><p>Unlike a reusable workflow, a composite action inherits environment variables. However, it does not inherit secrets.
Secrets must be passed explicitly as inputs or environment variables. Also, there is no need to use &lsquo;build artifacts&rsquo; to
share files since the reusable steps run on the same runner and in the same work area as the main job.</p><p>Here is an example of a composite action. It uses a different schema than a workflow. Also, the file must be named
<code>action.yml</code> or similar.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>Reusable steps (AKA composite action)</span>
</span></span><span style=display:flex><span><span style=color:#f92672>description</span>: <span style=color:#ae81ff>Demonstrate how to use reusable steps in a workflow</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Schema: https://json.schemastore.org/github-action.json</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>inputs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>reusable_input</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>description</span>: <span style=color:#e6db74>&#39;Input to the reusable workflow&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>required</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>filename</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>required</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#f92672>outputs</span>:
</span></span><span style=display:flex><span>  <span style=color:#75715e># Map the action output(s) to step output(s)</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>reusable_output</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>description</span>: <span style=color:#e6db74>&#39;Output from the reusable workflow&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>value</span>: <span style=color:#ae81ff>${{ steps.process-step.outputs.step_output }}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>runs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>using</span>: <span style=color:#e6db74>&#39;composite&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Process reusable input</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>id</span>: <span style=color:#ae81ff>process-step</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e># Shell must explicitly specify the shell for each step. https://github.com/orgs/community/discussions/18597</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>shell</span>: <span style=color:#ae81ff>bash</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        echo &#34;reusable_input=${{ inputs.reusable_input }}&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        echo &#34;HELLO_WORLD_SECRET=${HELLO_WORLD_SECRET}&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        echo &#34;step_output=${{ inputs.reusable_input }}_processed&#34; &gt;&gt; $GITHUB_OUTPUT</span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Process file</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>shell</span>: <span style=color:#ae81ff>bash</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        echo &#34;Processing file: ${{ inputs.filename }}&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        echo &#34;file processed&#34; &gt;&gt; ${{ inputs.filename }}</span>
</span></span></code></pre></div><p>The composite action is called via the <code>uses</code> setting on a step. Our action accepts an input called <code>reusable_input</code> and
generates an output called <code>reusable_output</code>. It also processes a file called <code>filename</code>.</p><p>The following code snippet shows how to use the composite action in a job.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>  - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Use reusable steps</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>id</span>: <span style=color:#ae81ff>reusable-steps</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>./.github/reusable-steps</span> <span style=color:#75715e># To use this syntax, we must have the repository checked out</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>reusable_input</span>: <span style=color:#e6db74>&#34;job-2-input&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>filename</span>: <span style=color:#e6db74>&#34;input.txt&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>env</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>HELLO_WORLD_SECRET</span>: <span style=color:#ae81ff>TERCES_DLROW_OLLEH</span>
</span></span></code></pre></div><p>A successful run of the main workflow with reusable steps looks like this on GitHub:</p><figure><img src=/posts/github-reusable-workflows-and-steps/GitHub%20Actions%20composite%20action%20success.png alt="GitHub Actions composite action success"><figcaption><h4>GitHub Actions composite action success</h4></figcaption></figure><p>For a reusable TypeScript action example, see the
<a class=link href=../typescript-github-action/>How to create a custom GitHub Action using TypeScript</a> article.</p><h2 id=conclusion><a href=#conclusion class=header-anchor></a>Conclusion</h2><p>Reusable workflows and steps are powerful tools for improving the maintainability, consistency, and productivity of your
GitHub Actions. They allow you to reuse code across repositories and workflows and promote best practices. They are a
great way to reduce errors and increase productivity.</p><p>For larger units of work, a reusable workflow should be used. A composite action should be used for smaller units of
work that may run on the same runner and share the same work area.</p><h2 id=example-code-on-github><a href=#example-code-on-github class=header-anchor></a>Example code on GitHub</h2><p>The example code is available on GitHub at: <a class=link href=https://github.com/getvictor/github-reusable-workflows-and-steps target=_blank rel=noopener>https://github.com/getvictor/github-reusable-workflows-and-steps</a></p><h2 id=other-articles-related-to-github><a href=#other-articles-related-to-github class=header-anchor></a>Other articles related to GitHub</h2><ul><li><a class=link href=../track-engineering-metrics/>Automate tracking of engineering metrics with GitHub Actions</a></li><li><a class=link href=../github-code-review-issues>Is GitHub code review process broken in your company?</a></li><li><a class=link href=../git-merges-and-pull-requests/><em>git merge</em> and GitHub pull requests explained</a></li><li><a class=link href=../find-code-owners-for-pull-request>Finding the minimum required code owner approvers for pull request</a></li><li><a class=link href=../use-github-actions-for-general-purpose-tasks/>Use GitHub actions for general-purpose tasks</a></li></ul><h2 id=github-actions-reusable-workflows-and-steps-video><a href=#github-actions-reusable-workflows-and-steps-video class=header-anchor></a>GitHub Actions reusable workflows and steps video</h2><div class=video-wrapper><iframe loading=lazy src=https://www.youtube.com/embed/ciHJzV6TZB8 allowfullscreen title="YouTube Video"></iframe></div><p><em>Note:</em> If you want to comment on this article, please do so on the YouTube video.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/github/>GitHub</a>
<a href=/tags/github-actions/>GitHub Actions</a>
<a href=/tags/code-reuse/>Code Reuse</a></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/posts/use-github-actions-for-general-purpose-tasks/><div class=article-image><img src=/posts/use-github-actions-for-general-purpose-tasks/GitHub-action.84a3f7063b6751b533a79ec07c37aee8_hu_4475a5f9cdce118f.png width=250 height=150 loading=lazy alt="Featured image of post Use GitHub Actions for general-purpose tasks" data-hash="md5-hKP3BjtnUbUzp57AfDeu6A=="></div><div class=article-details><h2 class=article-title>Use GitHub Actions for general-purpose tasks</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2025 Victor on Software</section><section class=powerby></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>