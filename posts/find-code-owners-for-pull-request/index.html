<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="How to find the minimum required reviewers who need to approve a GitHub pull request"><title>Find required code owner approvers for a PR in 3 steps</title><link rel=canonical href=https://victoronsoftware.com/posts/find-code-owners-for-pull-request/><link rel=stylesheet href=/scss/style.min.946cca6c6259ef94ac55abfae7c7bf3291ea3ed5eea17ef77500b257217c6710.css><meta property='og:title' content="Find required code owner approvers for a PR in 3 steps"><meta property='og:description' content="How to find the minimum required reviewers who need to approve a GitHub pull request"><meta property='og:url' content='https://victoronsoftware.com/posts/find-code-owners-for-pull-request/'><meta property='og:site_name' content='Victor on Software'><meta property='og:type' content='article'><meta property='article:section' content='Posts'><meta property='article:tag' content='Pull Request'><meta property='article:tag' content='GitHub'><meta property='article:published_time' content='2024-08-06T00:00:00+00:00'><meta property='article:modified_time' content='2024-08-06T00:00:00+00:00'><meta property='og:image' content='https://victoronsoftware.com/posts/find-code-owners-for-pull-request/codeowners-headline.png'><meta property='article:author' content='Victor Lyuboslavsky'><meta name=twitter:title content="Find required code owner approvers for a PR in 3 steps"><meta name=twitter:description content="How to find the minimum required reviewers who need to approve a GitHub pull request"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://victoronsoftware.com/posts/find-code-owners-for-pull-request/codeowners-headline.png'><script async src="https://www.googletagmanager.com/gtag/js?id=G-1XV381YSQ8"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-1XV381YSQ8")}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_c8fdb37897842f49.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Victor on Software</a></h1><h2 class=site-description>Software engineering, security, and related topics</h2></div></header><ol class=menu-social><li><a href=https://fleetdm.com target=_blank title=Fleet rel=me><svg width="58.219mm" height="58.202mm" viewBox="0 0 58.219 58.202"><g stroke-width=".26458"><path d="m7.5963 14.823c3.954.0 7.1594-3.2053 7.1594-7.1594.0-3.954-3.2054-7.1594-7.1594-7.1594-3.954.0-7.1594 3.2053-7.1594 7.1594.0 3.954 3.2053 7.1594 7.1594 7.1594z" fill="#63c740"/><path d="m29.075 14.823c3.9539.0 7.1594-3.2053 7.1594-7.1594.0-3.954-3.2054-7.1594-7.1594-7.1594-3.9541.0-7.1595 3.2053-7.1595 7.1594.0 3.954 3.2054 7.1594 7.1595 7.1594z" fill="#5cabdf"/><path d="m50.552 14.823c3.9542.0 7.1594-3.2053 7.1594-7.1594.0-3.954-3.2052-7.1594-7.1594-7.1594-3.9539.0-7.1594 3.2053-7.1594 7.1594.0 3.954 3.2054 7.1594 7.1594 7.1594z" fill="#d66c7b"/><path d="m7.5963 36.301c3.954.0 7.1594-3.2054 7.1594-7.1594.0-3.9541-3.2054-7.1595-7.1594-7.1595-3.954.0-7.1594 3.2054-7.1594 7.1595.0 3.9539 3.2053 7.1594 7.1594 7.1594z" fill="#c98def"/><path d="m29.075 36.301c3.9539.0 7.1594-3.2054 7.1594-7.1594.0-3.9541-3.2054-7.1595-7.1594-7.1595-3.9541.0-7.1595 3.2054-7.1595 7.1595.0 3.9539 3.2054 7.1594 7.1595 7.1594z" fill="#faa669"/><path d="m7.5963 57.779c3.954.0 7.1594-3.2052 7.1594-7.1594.0-3.9539-3.2054-7.1594-7.1594-7.1594-3.954.0-7.1594 3.2054-7.1594 7.1594.0 3.9542 3.2053 7.1594 7.1594 7.1594z" fill="#3aefc4"/></g></svg></a></li><li><a href=https://github.com/getvictor target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.linkedin.com/in/lyuboslavsky/ target=_blank title=LinkedIn rel=me><svg width="16" height="16" fill="currentColor" class="bi bi-linkedin" viewBox="0 0 16 16"><path d="M0 1.146C0 .513.526.0 1.175.0h13.65C15.474.0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487.0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401m-1.2-8.212c.837.0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822.0-1.359.54-1.359 1.248.0.694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869.0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274.0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54.0 01.016-.025V6.169h-2.4c.03.678.0 7.225.0 7.225h2.4"/></svg></a></li><li><a href=http://www.youtube.com/@VictorOnSoftware target=_blank title=YouTube rel=me><svg height="800" width="800" id="Layer_1" viewBox="0 0 461.001 461.001"><g><path style="fill:#f61c0d" d="M365.257 67.393H95.744C42.866 67.393.0 110.259.0 163.137v134.728c0 52.878 42.866 95.744 95.744 95.744h269.513c52.878.0 95.744-42.866 95.744-95.744V163.137c0-52.878-42.866-95.744-95.744-95.744zM300.506 237.056l-126.06 60.123c-3.359 1.602-7.239-.847-7.239-4.568V168.607c0-3.774 3.982-6.22 7.348-4.514l126.06 63.881C304.363 229.873 304.298 235.248 300.506 237.056z"/></g></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/page/speaking/><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 2m0 3a3 3 0 013-3h0a3 3 0 013 3v5a3 3 0 01-3 3h0a3 3 0 01-3-3z"/><path d="M5 10a7 7 0 0014 0"/><path d="M8 21h8"/><path d="M12 17v4"/></svg>
<span>Speaking</span></a></li><li><a href=/page/tools/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Software tools</span></a></li><li><a href=/page/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/page/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/posts/find-code-owners-for-pull-request/><img src=/posts/find-code-owners-for-pull-request/codeowners-headline_hu_1f52800a14cc45bb.png srcset="/posts/find-code-owners-for-pull-request/codeowners-headline_hu_1f52800a14cc45bb.png 800w, /posts/find-code-owners-for-pull-request/codeowners-headline_hu_24f417ba3af218b2.png 1600w" width=800 height=419 loading=lazy alt="Featured image of post Find required code owner approvers for a PR in 3 steps"></a></div><div class=article-details><header class=article-category><a href=/categories/software-development/>Software Development</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/posts/find-code-owners-for-pull-request/>Find required code owner approvers for a PR in 3 steps</a></h2><h3 class=article-subtitle>How to find the minimum required reviewers who need to approve a GitHub pull request</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Aug 06, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>3 minute read</time></div></footer></div></header><section class=article-content><ul><li><a class=link href=#find-code-owners-from-command-line>Find code owners from the command line</a></li></ul><h2 id=what-are-github-code-owners><a href=#what-are-github-code-owners class=header-anchor></a>What are GitHub code owners?</h2><p>GitHub
<a class=link href=https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-code-owners target=_blank rel=noopener>CODEOWNERS</a>
is a file that defines the individuals or teams responsible for code in a repository. When a user creates a pull
request, GitHub uses the <code>CODEOWNERS</code> file to suggest the appropriate reviewers for the pull request. This process helps
ensure that the right people review the code changes.</p><p>Repository owners can enable branch protection rules that require the code owner of each changed file to approve the
pull request.</p><h2 id=the-problem-too-many-files-and-too-many-code-owners><a href=#the-problem-too-many-files-and-too-many-code-owners class=header-anchor></a>The problem: too many files and too many code owners</h2><p>It can be challenging to determine who needs to review a pull request in a large repository with many files and many
code owners. This challenge is especially true when the pull request touches many files.</p><p>Many times, I&rsquo;ve asked another engineer to approve my PR, and they approved it, but GitHub said that the PR still needed
approval from another code owner. I needed another approval because my PR changed another file with another code owner,
and I didn&rsquo;t know about it.</p><h2 id=steps-to-find-the-minimum-required-code-owners><a href=#steps-to-find-the-minimum-required-code-owners class=header-anchor></a>Steps to find the minimum required code owners</h2><p>To find the minimum required code owners for a pull request, we can use these steps:</p><ol><li>Get the list of changed files in the pull request.</li><li>For each changed file, get the list of code owners.</li><li>Find the minimum set of code owners that covers all the above lists.</li></ol><h2 id=finding-the-code-owners-manually><a href=#finding-the-code-owners-manually class=header-anchor></a>Finding the code owners manually</h2><p>The above steps can be done manually by opening the pull request in GitHub and hovering over the blue CODEOWNERS icon
for each changed file to see the code owners. However, this can be time-consuming and error-prone.</p><figure><img src=/posts/find-code-owners-for-pull-request/codeowners-hover.png alt="List of files, with code owners showing when hovering over the blue icon next to the file"><figcaption><h4>See the code owners on hover</h4></figcaption></figure><h2 id=find-code-owners-from-command-line><a href=#find-code-owners-from-command-line class=header-anchor></a>Finding the code owners from the command line</h2><p>To automate the above steps, we will need the following prerequisites:</p><ul><li><a class=link href=https://cli.github.com/ target=_blank rel=noopener>GitHub CLI</a> installed and logged in</li><li>Command-line JSON processor <a class=link href=https://jqlang.github.io/jq/download/ target=_blank rel=noopener>jq</a> installed</li><li>A CODEOWNERS parser installed, such as <a class=link href=https://github.com/hmarr/codeowners target=_blank rel=noopener>https://github.com/hmarr/codeowners</a></li></ul><p>From the top directory containing your git repository, run the following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gh pr view $MY_PR_NUMBER --json files | jq -r <span style=color:#e6db74>&#39;.files[] .path&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>| xargs codeowners | tr -s <span style=color:#e6db74>&#39; &#39;</span> | cut -f2- -d <span style=color:#e6db74>&#39; &#39;</span> | sort -u
</span></span></code></pre></div><p>Where <code>$MY_PR_NUMBER</code> is the number of your pull request.</p><p>The first part of the command, <code>gh pr view $MY_PR_NUMBER --json files</code>, gets the list of changed files in the pull
request in JSON format. The second part, <code>jq -r '.files[] .path'</code>, extracts the file paths from the JSON. The third
part, <code>xargs codeowners</code>, runs the <code>codeowners</code> command for each file. The fourth optional part, <code>tr -s ' '</code>, removes
extra spaces. The fifth part, <code>cut -f2- -d ' '</code>, removes the first column. The last part, <code>sort -u</code>, sorts and removes
duplicates.</p><p>The output will be the list of code owners for the changed files in the pull request. For example:</p><pre tabindex=0><code>(unowned)
@fleetdm/go
@getvictor @lucasmrod @roperzh @mostlikelee
@lucasmrod @getvictor @jacobshandling
@roperzh @gillespi314 @lucasmrod @getvictor
</code></pre><p>At this point, we can do additional processing, such as excluding some code owners.</p><p>By visually inspecting the output, we can determine the minimum set of code owners that need to review the pull request.</p><h2 id=further-reading><a href=#further-reading class=header-anchor></a>Further reading</h2><p>Recently, we covered <a class=link href=../github-code-review-issues>top 3 issues with GitHub code review process</a>.</p><p>We also wrote about <a class=link href=../git-merges-and-pull-requests>how merges work with GitHub pull requests</a>.</p><p>Previously, we explained
<a class=link href=../github-reusable-workflows-and-steps>how to create reusable workflows and steps in GitHub Actions</a>.</p><h2 id=watch-how-to-find-the-minimum-required-code-owners-for-a-pull-request><a href=#watch-how-to-find-the-minimum-required-code-owners-for-a-pull-request class=header-anchor></a>Watch how to find the minimum required code owners for a pull request</h2><div class=video-wrapper><iframe loading=lazy src=https://www.youtube.com/embed/RHW-ZELnuSg allowfullscreen title="YouTube Video"></iframe></div><p><em>Note:</em> If you want to comment on this article, please do so on the YouTube video.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/pull-request/>Pull Request</a>
<a href=/tags/github/>GitHub</a></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/posts/git-merges-and-pull-requests/><div class=article-image><img src=/posts/git-merges-and-pull-requests/git-merges-and-pull-requests-feature.0bfb868a96e1570317db6b8bb2f64f54_hu_2cce3211806e3440.png width=250 height=150 loading=lazy alt="Featured image of post How git merge works with GitHub pull requests" data-hash="md5-C/uGipbhVwMX22uLsvZPVA=="></div><div class=article-details><h2 class=article-title>How git merge works with GitHub pull requests</h2></div></a></article><article class=has-image><a href=/posts/github-reusable-workflows-and-steps/><div class=article-image><img src=/posts/github-reusable-workflows-and-steps/GitHub%20Actions%20thumbnail.1de2a1ac1930c73ab93ff3f52f594721_hu_b2393587962b67eb.png width=250 height=150 loading=lazy alt="Featured image of post How to reuse workflows and steps in GitHub Actions (2024)" data-hash="md5-HeKhrBkwxzq5P/P1L1lHIQ=="></div><div class=article-details><h2 class=article-title>How to reuse workflows and steps in GitHub Actions (2024)</h2></div></a></article><article class=has-image><a href=/posts/use-github-actions-for-general-purpose-tasks/><div class=article-image><img src=/posts/use-github-actions-for-general-purpose-tasks/GitHub-action.84a3f7063b6751b533a79ec07c37aee8_hu_4475a5f9cdce118f.png width=250 height=150 loading=lazy alt="Featured image of post Use GitHub Actions for general-purpose tasks" data-hash="md5-hKP3BjtnUbUzp57AfDeu6A=="></div><div class=article-details><h2 class=article-title>Use GitHub Actions for general-purpose tasks</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2025 Victor on Software</section><section class=powerby></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>