<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Keep feature branches up to date before merging a pull request"><title>How git merge works with GitHub pull requests</title><link rel=canonical href=https://victoronsoftware.com/posts/git-merges-and-pull-requests/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="How git merge works with GitHub pull requests"><meta property='og:description' content="Keep feature branches up to date before merging a pull request"><meta property='og:url' content='https://victoronsoftware.com/posts/git-merges-and-pull-requests/'><meta property='og:site_name' content='Victor on Software'><meta property='og:type' content='article'><meta property='article:section' content='Posts'><meta property='article:tag' content='git'><meta property='article:tag' content='GitHub'><meta property='article:tag' content='Pull Request'><meta property='article:published_time' content='2024-06-26T00:00:00+00:00'><meta property='article:modified_time' content='2024-06-26T00:00:00+00:00'><meta property='og:image' content='https://victoronsoftware.com/posts/git-merges-and-pull-requests/git-merges-and-pull-requests-feature.png'><meta property='article:author' content='Victor Lyuboslavsky'><meta name=twitter:title content="How git merge works with GitHub pull requests"><meta name=twitter:description content="Keep feature branches up to date before merging a pull request"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://victoronsoftware.com/posts/git-merges-and-pull-requests/git-merges-and-pull-requests-feature.png'><script async src="https://www.googletagmanager.com/gtag/js?id=G-1XV381YSQ8"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-1XV381YSQ8")}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_c8fdb37897842f49.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Victor on Software</a></h1><h2 class=site-description>Software engineering, security, and related topics</h2></div></header><ol class=menu-social><li><a href=https://fleetdm.com target=_blank title=Fleet rel=me><svg width="58.219mm" height="58.202mm" viewBox="0 0 58.219 58.202"><g stroke-width=".26458"><path d="m7.5963 14.823c3.954.0 7.1594-3.2053 7.1594-7.1594.0-3.954-3.2054-7.1594-7.1594-7.1594-3.954.0-7.1594 3.2053-7.1594 7.1594.0 3.954 3.2053 7.1594 7.1594 7.1594z" fill="#63c740"/><path d="m29.075 14.823c3.9539.0 7.1594-3.2053 7.1594-7.1594.0-3.954-3.2054-7.1594-7.1594-7.1594-3.9541.0-7.1595 3.2053-7.1595 7.1594.0 3.954 3.2054 7.1594 7.1595 7.1594z" fill="#5cabdf"/><path d="m50.552 14.823c3.9542.0 7.1594-3.2053 7.1594-7.1594.0-3.954-3.2052-7.1594-7.1594-7.1594-3.9539.0-7.1594 3.2053-7.1594 7.1594.0 3.954 3.2054 7.1594 7.1594 7.1594z" fill="#d66c7b"/><path d="m7.5963 36.301c3.954.0 7.1594-3.2054 7.1594-7.1594.0-3.9541-3.2054-7.1595-7.1594-7.1595-3.954.0-7.1594 3.2054-7.1594 7.1595.0 3.9539 3.2053 7.1594 7.1594 7.1594z" fill="#c98def"/><path d="m29.075 36.301c3.9539.0 7.1594-3.2054 7.1594-7.1594.0-3.9541-3.2054-7.1595-7.1594-7.1595-3.9541.0-7.1595 3.2054-7.1595 7.1595.0 3.9539 3.2054 7.1594 7.1595 7.1594z" fill="#faa669"/><path d="m7.5963 57.779c3.954.0 7.1594-3.2052 7.1594-7.1594.0-3.9539-3.2054-7.1594-7.1594-7.1594-3.954.0-7.1594 3.2054-7.1594 7.1594.0 3.9542 3.2053 7.1594 7.1594 7.1594z" fill="#3aefc4"/></g></svg></a></li><li><a href=https://github.com/getvictor target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.linkedin.com/in/lyuboslavsky/ target=_blank title=LinkedIn rel=me><svg width="16" height="16" fill="currentColor" class="bi bi-linkedin" viewBox="0 0 16 16"><path d="M0 1.146C0 .513.526.0 1.175.0h13.65C15.474.0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487.0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401m-1.2-8.212c.837.0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822.0-1.359.54-1.359 1.248.0.694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869.0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274.0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54.0 01.016-.025V6.169h-2.4c.03.678.0 7.225.0 7.225h2.4"/></svg></a></li><li><a href=http://www.youtube.com/@VictorOnSoftware target=_blank title=YouTube rel=me><svg height="800" width="800" id="Layer_1" viewBox="0 0 461.001 461.001"><g><path style="fill:#f61c0d" d="M365.257 67.393H95.744C42.866 67.393.0 110.259.0 163.137v134.728c0 52.878 42.866 95.744 95.744 95.744h269.513c52.878.0 95.744-42.866 95.744-95.744V163.137c0-52.878-42.866-95.744-95.744-95.744zM300.506 237.056l-126.06 60.123c-3.359 1.602-7.239-.847-7.239-4.568V168.607c0-3.774 3.982-6.22 7.348-4.514l126.06 63.881C304.363 229.873 304.298 235.248 300.506 237.056z"/></g></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/page/speaking/><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 2m0 3a3 3 0 013-3h0a3 3 0 013 3v5a3 3 0 01-3 3h0a3 3 0 01-3-3z"/><path d="M5 10a7 7 0 0014 0"/><path d="M8 21h8"/><path d="M12 17v4"/></svg>
<span>Speaking</span></a></li><li><a href=/page/tools/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Software tools</span></a></li><li><a href=/page/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/page/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/posts/git-merges-and-pull-requests/><img src=/posts/git-merges-and-pull-requests/git-merges-and-pull-requests-feature_hu_f221eca199631de1.png srcset="/posts/git-merges-and-pull-requests/git-merges-and-pull-requests-feature_hu_f221eca199631de1.png 800w, /posts/git-merges-and-pull-requests/git-merges-and-pull-requests-feature_hu_2c31456e220a3c93.png 1600w" width=800 height=419 loading=lazy alt="Featured image of post How git merge works with GitHub pull requests"></a></div><div class=article-details><header class=article-category><a href=/categories/software-development/>Software Development</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/posts/git-merges-and-pull-requests/>How git merge works with GitHub pull requests</a></h2><h3 class=article-subtitle>Keep feature branches up to date before merging a pull request</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jun 26, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>8 minute read</time></div></footer></div></header><section class=article-content><p>This article covers how <code>git merge</code> works with GitHub pull requests. We will focus on the use case where developers want
to keep their feature branches updated with the main branch. After completing the feature work, developers create a pull
request to merge their feature branch into the main branch.</p><ul><li><a class=link href=#git-merge>git merge</a></li><li><a class=link href=#pull-request-after-merge>Pull request after a merge</a></li><li><a class=link href=#update-protected-branch>Updating a protected feature branch with a pull request</a></li></ul><h2 id=what-is-a-merge-in-version-control><a href=#what-is-a-merge-in-version-control class=header-anchor></a>What is a merge in version control?</h2><p>Git is a distributed version control system that allows multiple developers to work on the same codebase. When
developers work on different branches, they must merge their changes into the main branch. A merge is the process of
combining changes from one branch into another branch, resulting in a single branch that contains the changes from both
branches.</p><h2 id=git-merge><a href=#git-merge class=header-anchor></a>git merge</h2><p>The standard <code>git merge</code> command takes each commit from one branch and applies it to another. The final commit has two
parent commits: one from the current branch and one from the merged branch.</p><p>In the following example, we have a <code>branch</code> that we want to merge into the <code>main</code> branch:</p><figure><img src=/posts/git-merges-and-pull-requests/git-merge-two-branches-1.svg alt="git merge of two branches before merge"><figcaption><h4>git merge of two branches before merge</h4></figcaption></figure><p>The <code>git log</code> of the <code>main</code> branch shows the commit history:</p><pre tabindex=0><code>commit e493ac8fea4e0efe125a561b9014313bec41a489 (HEAD -&gt; main, origin/main)
Author: Victor on Software &lt;&gt;
Date:   Sat Jun 22 17:31:12 2024 -0500

    m3

commit b79e810cb86405061dc979ce4fc05fe36a724256
Author: Victor on Software &lt;&gt;
Date:   Sat Jun 22 17:29:41 2024 -0500

    m2

commit eaccad9476b472dbfb3cdfbd17088425be75b7b1
Author: Victor on Software &lt;&gt;
Date:   Sat Jun 22 17:26:55 2024 -0500

    m1

commit 4265c0a30b7b6f03d93331bc112261393c97ee1d
Author: Victor on Software &lt;&gt;
Date:   Sat Jun 22 17:25:40 2024 -0500

    first commit
</code></pre><p>And the <code>git log</code> of the <code>branch</code> shows the commit history:</p><pre tabindex=0><code>commit 2afb078875a84095327ab2ef7c83711534c5eef8 (HEAD -&gt; branch, origin/branch)
Author: Victor on Software &lt;&gt;
Date:   Sat Jun 22 17:30:20 2024 -0500

    b2

commit 9fc53c2ca9a58637a5d433de4c6150b832d4d275
Author: Victor on Software &lt;&gt;
Date:   Sat Jun 22 17:28:25 2024 -0500

    b1

commit eaccad9476b472dbfb3cdfbd17088425be75b7b1
Author: Victor on Software &lt;&gt;
Date:   Sat Jun 22 17:26:55 2024 -0500

    m1

commit 4265c0a30b7b6f03d93331bc112261393c97ee1d
Author: Victor on Software &lt;&gt;
Date:   Sat Jun 22 17:25:40 2024 -0500

    first commit
</code></pre><p>We merge the <code>branch</code> into the <code>main</code> branch:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git checkout main
</span></span><span style=display:flex><span>git merge branch
</span></span></code></pre></div><p>The resulting commit history shows all the commits from both branched as well as the final empty merge commit pointing
to the two parent commits: <code>e493ac8 2afb078</code>:</p><pre tabindex=0><code>commit 09d569bd079162643462dde112246f4167f14889 (HEAD -&gt; main)
Merge: e493ac8 2afb078
Author: Victor on Software &lt;&gt;
Date:   Sat Jun 22 21:03:01 2024 -0500

    Merge branch &#39;branch&#39;

commit e493ac8fea4e0efe125a561b9014313bec41a489 (origin/main)
Author: Victor on Software &lt;&gt;
Date:   Sat Jun 22 17:31:12 2024 -0500

    m3

commit 2afb078875a84095327ab2ef7c83711534c5eef8 (origin/branch, branch)
Author: Victor on Software &lt;&gt;
Date:   Sat Jun 22 17:30:20 2024 -0500

    b2

commit b79e810cb86405061dc979ce4fc05fe36a724256
Author: Victor on Software &lt;&gt;
Date:   Sat Jun 22 17:29:41 2024 -0500

    m2

commit 9fc53c2ca9a58637a5d433de4c6150b832d4d275
Author: Victor on Software &lt;&gt;
Date:   Sat Jun 22 17:28:25 2024 -0500

    b1

commit eaccad9476b472dbfb3cdfbd17088425be75b7b1
Author: Victor on Software &lt;&gt;
Date:   Sat Jun 22 17:26:55 2024 -0500

    m1

commit 4265c0a30b7b6f03d93331bc112261393c97ee1d
Author: Victor on Software &lt;&gt;
Date:   Sat Jun 22 17:25:40 2024 -0500

    first commit
</code></pre><figure><img src=/posts/git-merges-and-pull-requests/git-merge-two-branches-2.svg alt="git merge of two branches after merge"><figcaption><h4>git merge of two branches after merge</h4></figcaption></figure><p>The result would be the same if <strong>instead</strong> we merged the <code>main</code> branch into the <code>branch</code> branch:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git checkout branch
</span></span><span style=display:flex><span>git merge main
</span></span></code></pre></div><p>except the final merge commit would be slightly different:</p><pre tabindex=0><code>commit 06713a38ed38c12f599c6e810ee50d4cacfe2de7 (HEAD -&gt; branch)
Merge: 2afb078 e493ac8
Author: Victor on Software &lt;&gt;
Date:   Sat Jun 22 17:32:01 2024 -0500

    Merge branch &#39;main&#39; into branch
</code></pre><p>The merged changes on <code>branch</code> can be pushed to the remote repository without issues because the remote branch can be
fast-forwarded to the new commit.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git push origin branch
</span></span></code></pre></div><h2 id=what-is-a-fast-forward-merge><a href=#what-is-a-fast-forward-merge class=header-anchor></a>What is a fast-forward merge?</h2><p>A fast-forward merge is a merge where the base branch (target branch) has no new commits. In this case, git moves the
target branch to the commit of the source branch. It is a fast-forward merge because the target branch is moved forward
to the new commit.</p><p>A fast-forward merge does not lose any history &ndash; it is always possible to undo a fast-forward merge.</p><p><code>git push</code> does not, by default, allow a merge that is not a fast-forward. Use the&rsquo;- force&rsquo; option to enable a merge
that is not a fast-forward.</p><h2 id=undo-a-git-merge><a href=#undo-a-git-merge class=header-anchor></a>Undo a git merge</h2><p>The above merge can be undone by resetting the branch to the commit before the merge, which is one of the parent commits
of the merge commit.</p><p>This command resets the <code>branch</code> to the commit before the merge:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git reset --hard 2afb078875a84095327ab2ef7c83711534c5eef8
</span></span></code></pre></div><h2 id=git-rebase><a href=#git-rebase class=header-anchor></a>git rebase</h2><p>Another way to combine changes from one branch into another is to use <code>git rebase</code>. This command applies the changes
from the source branch to the target branch by reapplying the commits from the source branch to the target branch.</p><p>The <code>git rebase</code> command will modify the commit history of the source branch. In our pull request examples, we will use
<code>git merge</code> instead of <code>git rebase</code> to preserve all the commit histories.</p><h2 id=pull-request-after-merge><a href=#pull-request-after-merge class=header-anchor></a>Pull request after a merge</h2><p>When working on a feature branch, developers often want to update their branch with the latest changes from the main to
make sure their feature works with the newest code. We start this process with the above-described <code>git merge</code> command,
where we merge the <code>main</code> branch into the <code>branch</code> branch.</p><p>After the merge, the developer can create a GitHub pull request to merge the <code>branch</code> into the <code>main</code> branch.</p><figure><img src=/posts/git-merges-and-pull-requests/github-pull-request.png alt="GitHub pull request after merge"><figcaption><h4>GitHub pull request after merge</h4></figcaption></figure><p>Note that the commit history only shows the commits from the <code>branch</code> and the merge commit. The <code>main</code> commits are not
shown in the pull request.</p><p>GitHub shows a few options for merging the pull request:</p><figure><img src=/posts/git-merges-and-pull-requests/merge-pull-request-options.png alt="Merge pull request"><figcaption><h4>Merge pull request</h4></figcaption></figure><ul><li><strong>Create a merge commit</strong>: This option creates a new merge commit combining the changes from the <code>branch</code> and the
<code>main</code> branches. This is the default option.</li><li><strong>Squash and merge</strong>: This option combines all the commits from the <code>branch</code> into a single commit and merges that
commit into the <code>main</code> branch.</li><li><strong>Rebase and merge</strong>: This option applies the changes from the <code>branch</code> onto the <code>main</code> branch by rebasing the commits
from the <code>branch</code> onto the <code>main</code> branch.</li></ul><p>Selecting <strong>Create a merge commit</strong> results in the following commit history:</p><figure><img src=/posts/git-merges-and-pull-requests/commit-history-after-pull-request.png alt="Commit history after pull request"><figcaption><h4>Commit history after pull request</h4></figcaption></figure><p>The last two commits are both merge commits.</p><pre tabindex=0><code>commit 1eb0af8c0e9ad16a0267d8abd1ce667f125ab7e8 (HEAD -&gt; main, origin/main)
Merge: e493ac8 22d2107
Author: Victor Lyuboslavsky &lt;******&gt;
Date:   Sun Jun 23 07:35:57 2024 -0500

    Merge pull request #1 from getvictor/branch

    My pull request

commit 22d2107b49bca56e67b7d4e800d93f93378a0956 (origin/branch, branch)
Merge: 2afb078 e493ac8
Author: Victor on Software &lt;&gt;
Date:   Sat Jun 22 21:25:39 2024 -0500

    Merge branch &#39;main&#39; into branch
</code></pre><p>The PR merge commit points to the previous merge commit and the last commit on <code>main</code>.</p><figure><img src=/posts/git-merges-and-pull-requests/pull-request-commit-history.svg alt="Diagram of commit history after pull request"><figcaption><h4>Diagram of commit history after pull request</h4></figcaption></figure><h2 id=update-protected-branch><a href=#update-protected-branch class=header-anchor></a>Updating a protected feature branch</h2><p>We have two branches in this example: <code>main</code> and <code>feature</code>. Both branches are protected, meaning that changes to them
must be made through a pull request. We want to update the <code>feature</code> branch with the latest changes from the <code>main</code>
branch.</p><p>We can do this by merging the <code>main</code> branch into the <code>feature</code> branch, creating a new branch, and creating a pull
request.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git checkout feature
</span></span><span style=display:flex><span>git merge main
</span></span><span style=display:flex><span>git checkout -b feature-update
</span></span><span style=display:flex><span>git push origin feature-update
</span></span></code></pre></div><p>And create a pull request to merge <code>feature-update</code> into <code>feature</code>.</p><figure><img src=/posts/git-merges-and-pull-requests/github-pull-request-branches.png alt="Create a PR to merge into feature branch"><figcaption><h4>Create a PR to merge into feature branch</h4></figcaption></figure><p>This pull request shows all the commits from the <code>main</code> branch and the merge commit. This commit history is problematic
because the PR may trigger a code review from the
<a class=link href=https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-code-owners target=_blank rel=noopener>code owners</a>
of the files that were already reviewed in previous pull requests to the <code>main</code> branch.</p><figure><img src=/posts/git-merges-and-pull-requests/github-pull-request-commits.png alt="Commits from feature-update branch"><figcaption><h4>Commits from feature-update branch</h4></figcaption></figure><p>After the merge, the <code>feature</code> branch commit history looks like:</p><figure><img src=/posts/git-merges-and-pull-requests/commit-history-of-feature-after-pr.png alt="Commit history of feature branch after PR"><figcaption><h4>Commit history of feature branch after PR</h4></figcaption></figure><p>Now, we create a pull request to merge the update <code>feature</code> branch into the <code>main</code> branch.</p><figure><img src=/posts/git-merges-and-pull-requests/github-pull-request-feature.png alt="PR to merge feature branch into main"><figcaption><h4>PR to merge feature branch into main</h4></figcaption></figure><p>After the merge, the <code>main</code> branch commit history looks like:</p><figure><img src=/posts/git-merges-and-pull-requests/commit-history-of-main-after-feature-pr.png alt="Commit history of main after PR from feature branch"><figcaption><h4>Commit history of main after PR from feature branch</h4></figcaption></figure><p>The last three commits are merge commits.</p><pre tabindex=0><code>commit 59caaf1cc5103099f850c32f1729c5ffe3525404 (HEAD -&gt; main, origin/main)
Merge: e493ac8 dcbc117
Author: Victor Lyuboslavsky &lt;******&gt;
Date:   Sun Jun 23 08:56:53 2024 -0500

    Merge pull request #3 from getvictor/feature

    Feature

commit dcbc117e5811e683f1074d947bc25da21b5fa5f6 (origin/feature)
Merge: 2afb078 373dd82
Author: Victor Lyuboslavsky &lt;******&gt;
Date:   Sun Jun 23 08:45:44 2024 -0500

    Merge pull request #2 from getvictor/feature-update

    Feature update

commit 373dd82672a4879bfcf3b29c4feb97004359adfe (origin/feature-update, feature-update, feature)
Merge: 2afb078 e493ac8
Author: Victor on Software &lt;&gt;
Date:   Sun Jun 23 08:03:22 2024 -0500

    Merge branch &#39;main&#39; into feature
</code></pre><figure><img src=/posts/git-merges-and-pull-requests/pull-request-commit-history-2.svg alt="Diagram of commit history after two pull requests"><figcaption><h4>Diagram of commit history after two pull requests</h4></figcaption></figure><h3 id=merging-a-pull-request-with-squash-and-merge><a href=#merging-a-pull-request-with-squash-and-merge class=header-anchor></a>Merging a pull request with <strong>Squash and merge</strong></h3><p>If the final pull request is merged with <strong>Squash and merge</strong>, the commit history will look like:</p><figure><img src=/posts/git-merges-and-pull-requests/commit-history-after-squash-and-merge.png alt="Commit history of main after squash and merge"><figcaption><h4>Commit history of main after squash and merge</h4></figcaption></figure><p>The last commit is a single commit that combines all the changes from the <code>feature</code> branch. The merge commits and all
other commits are eliminated.</p><p>The downside of <strong>Squash and merge</strong> is that the commit history is lost. The commit history is useful for debugging,
understanding the changes made, and keeping ownership of the changes when multiple developers work on the same feature
branch.</p><h2 id=further-reading><a href=#further-reading class=header-anchor></a>Further reading</h2><p>Recently, we covered <a class=link href=../github-code-review-issues>why GitHub code review process is broken for our organization</a>.</p><p>Previously, we explained
<a class=link href=../find-code-owners-for-pull-request>how to find the minimum required code owner approvers for a pull request</a>.</p><h2 id=watch-how-git-merge-works-with-github-pull-requests><a href=#watch-how-git-merge-works-with-github-pull-requests class=header-anchor></a>Watch how git merge works with GitHub pull requests</h2><div class=video-wrapper><iframe loading=lazy src=https://www.youtube.com/embed/Djpc7ymvuzU allowfullscreen title="YouTube Video"></iframe></div><p><em>Note:</em> If you want to comment on this article, please do so on the YouTube video.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/git/>git</a>
<a href=/tags/github/>GitHub</a>
<a href=/tags/pull-request/>Pull Request</a></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/posts/github-reusable-workflows-and-steps/><div class=article-image><img src=/posts/github-reusable-workflows-and-steps/GitHub%20Actions%20thumbnail.1de2a1ac1930c73ab93ff3f52f594721_hu_b2393587962b67eb.png width=250 height=150 loading=lazy alt="Featured image of post How to reuse workflows and steps in GitHub Actions (2024)" data-hash="md5-HeKhrBkwxzq5P/P1L1lHIQ=="></div><div class=article-details><h2 class=article-title>How to reuse workflows and steps in GitHub Actions (2024)</h2></div></a></article><article class=has-image><a href=/posts/use-github-actions-for-general-purpose-tasks/><div class=article-image><img src=/posts/use-github-actions-for-general-purpose-tasks/GitHub-action.84a3f7063b6751b533a79ec07c37aee8_hu_4475a5f9cdce118f.png width=250 height=150 loading=lazy alt="Featured image of post Use GitHub Actions for general-purpose tasks" data-hash="md5-hKP3BjtnUbUzp57AfDeu6A=="></div><div class=article-details><h2 class=article-title>Use GitHub Actions for general-purpose tasks</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2025 Victor on Software</section><section class=powerby></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>